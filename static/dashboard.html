<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FITS Cataloger</title>
    
    <link rel="icon" type="image/png" href="/static/assets/favicon.png">
    
    <script src="/static/js/lib/vue.global.prod.js"></script>
    <script src="/static/js/components/icons.js"></script>
    <script src="/static/js/components/starfield-background.js"></script> 
    <script src="/static/js/components/app-header.js"></script>
    <script src="/static/js/components/app-footer.js"></script>
    <script src="/static/js/lib/axios.min.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="/static/css/lib/tailwind.min.css">
    <link rel="stylesheet" href="/static/css/base.css">
    <link rel="stylesheet" href="/static/css/buttons.css">
    <link rel="stylesheet" href="/static/css/tables.css">
    <link rel="stylesheet" href="/static/css/modals.css">
    <link rel="stylesheet" href="/static/css/forms.css">
    <link rel="stylesheet" href="/static/css/filters.css">
    <link rel="stylesheet" href="/static/css/cards.css">
    <link rel="stylesheet" href="/static/css/menu.css">

</head>
<body class="bg-gray-100">
    <div id="app">
        <!-- Header with Dropdown Menu -->
        <app-header></app-header>

        <!-- Error Message -->
        <div v-if="errorMessage" class="mx-auto p-6 max-w-none">
            <div class="error-message">
                {{ errorMessage }}
                <button @click="errorMessage = ''" class="float-right text-red-700 hover:text-red-900">&times;</button>
            </div>
        </div>

        <!-- Main Content -->
        <main class="mx-auto p-6 max-w-none" :class="{ loading: loading }">
            <!-- Dashboard Tab -->
            <dashboard-tab v-show="activeTab === 'dashboard'"></dashboard-tab>

            <!-- Files Tab -->
            <files-tab v-show="activeTab === 'files'"></files-tab>

            <!-- Imaging Sessions Tab -->
            <imaging-sessions-tab v-show="activeTab === 'imaging-sessions'"></imaging-sessions-tab>

            <!-- Processing Sessions Tab -->
            <processing-sessions-tab v-show="activeTab === 'processing-sessions'"></processing-sessions-tab>

            <!-- Operations Tab -->
            <operations-tab v-show="activeTab === 'operations'"></operations-tab>

            <!-- Equipment Tab (NEW) -->
            <equipment-tab v-show="activeTab === 'equipment'"></equipment-tab>

            <!-- Configuration Tab (NEW) -->
            <configuration-tab v-show="activeTab === 'configuration'"></configuration-tab>
        </main>

        <!-- Footer -->
        <app-footer></app-footer>

        <!-- Component Modals -->
        <imaging-session-detail-modal ref="sessionDetailModal"></imaging-session-detail-modal>   
        <calibration-modal ref="calibrationModal"></calibration-modal>
        <processing-session-details-modal ref="processingDetailsModal"></processing-session-details-modal>
        <processing-session-modals ref="processingModals"></processing-session-modals>     
    </div>

    <!-- Existing Scripts -->
    <script src="/static/js/services/api-service.js"></script>
    <script src="/static/js/components/files-browser.js"></script>
    <script src="/static/js/components/imaging-sessions.js"></script>
    <script src="/static/js/components/imaging-session-detail-modal.js"></script>
    <script src="/static/js/components/processing-sessions.js"></script>
    <script src="/static/js/components/calibration-modal.js"></script>
    <script src="/static/js/components/processing-session-details-modal.js"></script>
    <script src="/static/js/components/processing-session-modals.js"></script>
    <script src="/static/js/components/dashboard-tab.js"></script>
    <script src="/static/js/components/files-tab.js"></script>
    <script src="/static/js/components/imaging-sessions-tab.js"></script>
    <script src="/static/js/components/processing-sessions-tab.js"></script>
    <script src="/static/js/components/operations-tab.js"></script>
    <script src="/static/js/components/equipment-tab.js"></script>
    <script src="/static/js/components/configuration-tab.js"></script>
    <script src="/static/js/app.js"></script>
    
</body>
</html>